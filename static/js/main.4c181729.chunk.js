(this.webpackJsonppacman=this.webpackJsonppacman||[]).push([[0],{40:function(t){t.exports=JSON.parse('{"compressionlevel":0,"editorsettings":{"export":{"format":"json","target":"pacman6.json"}},"height":31,"infinite":false,"layers":[{"data":[3504,3505,3506,3507,3508,3509,3510,3511,3512,3513,3514,3515,3516,3517,3518,3519,3520,3521,3522,3523,3524,3525,3526,3527,3528,3529,3530,3531,3532,3533,3534,3535,3536,3537,3538,3539,3540,3541,3542,3543,3544,3545,3546,3547,3548,3549,3550,3551,3552,3553,3554,3555,3556,3557,3558,3559,3560,3561,3562,3563,3564,3565,3566,3567,3568,3569,3570,3571,3572,3573,3574,3575,3576,3577,3578,3579,3580,3581,3582,3583,3584,3585,3586,3587,3588,3589,3590,3591,3592,3593,3594,3595,3596,3597,3598,3599,3600,3601,3602,3603,3604,3605,3606,3607,3608,3609,3610,3611,3612,3613,3614,3615,3616,3617,3618,3619,3620,3621,3622,3623,3624,3625,3626,3627,3628,3629,3630,3631,3632,3633,3634,3635,3636,3637,3638,3639,3640,3641,3642,3643,3644,3645,3646,3647,3648,3649,3650,3651,3652,3653,3654,3655,3656,3657,3658,3659,3660,3661,3662,3663,3664,3665,3666,3667,3668,3669,3670,3671,3672,3673,3674,3675,3676,3677,3678,3679,3680,3681,3682,3683,3684,3685,3686,3687,3688,3689,3690,3691,3692,3693,3694,3695,3696,3697,3698,3699,3700,3701,3702,3703,3704,3705,3706,3707,3708,3709,3710,3711,3712,3713,3714,3715,3716,3717,3718,3719,3720,3721,3722,3723,3724,3725,3726,3727,3728,3729,3730,3731,3732,3733,3734,3735,3736,3737,3738,3739,3740,3741,3742,3743,3744,3745,3746,3747,3748,3749,3750,3751,3752,3753,3754,3755,3756,3757,3758,3759,3760,3761,3762,3763,3764,3765,3766,3767,3768,3769,3770,3771,3772,3773,3774,3775,3776,3777,3778,3779,3780,3781,3782,3783,3784,3785,3786,3787,3788,3789,3790,3791,3792,3793,3794,3795,3796,3797,3798,3799,3800,3801,3802,3803,3804,3805,3806,3807,3808,3809,3810,3811,3812,3813,3814,3815,3816,3817,3818,3819,3820,3821,3822,3823,3824,3825,3826,3827,3828,3829,3830,3831,3832,3833,3834,3835,3836,3837,3838,3839,3840,3841,3842,3843,3844,3845,3846,3847,3848,3849,3850,3851,3852,3853,3854,3855,3856,3857,3858,3859,3860,3861,3862,3863,3864,3865,3866,3867,3868,3869,3870,3871,3872,3873,3874,3875,3876,3877,3878,3879,3880,3881,3882,3883,3884,3885,3886,3887,3888,3889,3890,3891,3892,3893,3894,3895,3896,3897,3898,3899,3900,3901,3902,3903,3904,3905,3906,3907,3908,3909,3910,3911,3912,3913,3914,3915,3916,3917,3918,3919,3920,3921,3922,3923,3924,3925,3926,3927,3928,3929,3930,3931,3932,3933,3934,3935,3936,3937,3938,3939,3940,3941,3942,3943,3944,3945,3946,3947,3948,3949,3950,3951,3952,3953,3954,3955,3956,3957,3958,3959,3960,3961,3962,3963,3964,3965,3966,3967,3968,3969,3970,3971,3972,3973,3974,3975,3976,3977,3978,3979,3980,3981,3982,3983,3984,3985,3986,3987,3988,3989,3990,3991,3992,3993,3994,3995,3996,3997,3998,3999,4000,4001,4002,4003,4004,4005,4006,4007,4008,4009,4010,4011,4012,4013,4014,4015,4016,4017,4018,4019,4020,4021,4022,4023,4024,4025,4026,4027,4028,4029,4030,4031,4032,4033,4034,4035,4036,4037,4038,4039,4040,4041,4042,4043,4044,4045,4046,4047,4048,4049,4050,4051,4052,4053,4054,4055,4056,4057,4058,4059,4060,4061,4062,4063,4064,4065,4066,4067,4068,4069,4070,4071,4072,4073,4074,4075,4076,4077,4078,4079,4080,4081,4082,4083,4084,4085,4086,4087,4088,4089,4090,4091,4092,4093,4094,4095,4096,4097,4098,4099,4100,4101,4102,4103,4104,4105,4106,4107,4108,4109,4110,4111,4112,4113,4114,4115,4116,4117,4118,4119,4120,4121,4122,4123,4124,4125,4126,4127,4128,4129,4130,4131,4132,4133,4134,4135,4136,4137,4138,4139,4140,4141,4142,4143,4144,4145,4146,4147,4148,4149,4150,4151,4152,4153,4154,4155,4156,4157,4158,4159,4160,1969,1970,4163,4164,4165,4166,4167,4168,4169,4170,4171,4172,4173,4174,4175,4176,4177,4178,4179,4180,4181,4182,4183,4184,4185,4186,4187,4188,4189,4190,4191,4192,4193,4194,4195,4196,4197,4198,4199,4200,4201,4202,4203,4204,4205,4206,4207,4208,4209,4210,4211,4212,4213,4214,4215,4216,4217,4218,4219,4220,4221,4222,4223,4224,4225,4226,4227,4228,4229,4230,4231,4232,4233,4234,4235,4236,4237,4238,4239,4240,4241,4242,4243,4244,4245,4246,4247,4248,4249,4250,4251,4252,4253,4254,4255,4256,4257,4258,4259,4260,4261,4262,4263,4264,4265,4266,4267,4268,4269,4270,4271,4272,4273,4274,4275,4276,4277,4278,4279,4280,4281,4282,4283,4284,4285,4286,4287,4288,4289,4290,4291,4292,4293,4294,4295,4296,4297,4298,4299,4300,4301,4302,4303,4304,4305,4306,4307,4308,4309,4310,4311,4312,4313,4314,4315,4316,4317,4318,4319,4320,4321,4322,4323,4324,4325,4326,4327,4328,4329,4330,4331,4332,4333,4334,4335,4336,4337,4338,4339,4340,4341,4342,4343,4344,4345,4346,4347,4348,4349,4350,4351,4352,4353,4354,4355,4356,4357,4358,4359,4360,4361,4362,4363,4364,4365,4366,4367,4368,4369,4370,4371],"height":31,"id":5,"name":"Tile Layer 1: With pills","opacity":1,"type":"tilelayer","visible":false,"width":28,"x":0,"y":0},{"data":[2636,2637,2638,2639,2640,2641,2642,2643,2644,2645,2646,2647,2648,2649,2650,2651,2652,2653,2654,2655,2656,2657,2658,2659,2660,2661,2662,2663,2664,2665,2666,2667,2668,2669,2670,2671,2672,2673,2674,2675,2676,2677,2678,2679,2680,2681,2682,2683,2684,2685,2686,2687,2688,2689,2690,2691,2692,2693,2694,2695,2696,2697,2698,2699,2700,2701,2702,2703,2704,2705,2706,2707,2708,2709,2710,2711,2712,2713,2714,2715,2716,2717,2718,2719,2720,2721,2722,2723,2724,2725,2726,2727,2728,2729,2730,2731,2732,2733,2734,2735,2736,2737,2738,2739,2740,2741,2742,2743,2744,2745,2746,2747,2748,2749,2750,2751,2752,2753,2754,2755,2756,2757,2758,2759,2760,2761,2762,2763,2764,2765,2766,2767,2768,2769,2770,2771,2772,2773,2774,2775,2776,2777,2778,2779,2780,2781,2782,2783,2784,2785,2786,2787,2788,2789,2790,2791,2792,2793,2794,2795,2796,2797,2798,2799,2800,2801,2802,2803,2804,2805,2806,2807,2808,2809,2810,2811,2812,2813,2814,2815,2816,2817,2818,2819,2820,2821,2822,2823,2824,2825,2826,2827,2828,2829,2830,2831,2832,2833,2834,2835,2836,2837,2838,2839,2840,2841,2842,2843,2844,2845,2846,2847,2848,2849,2850,2851,2852,2853,2854,2855,2856,2857,2858,2859,2860,2861,2862,2863,2864,2865,2866,2867,2868,2869,2870,2871,2872,2873,2874,2875,2876,2877,2878,2879,2880,2881,2882,2883,2884,2885,2886,2887,2888,2889,2890,2891,2892,2893,2894,2895,2896,2897,2898,2899,2900,2901,2902,2903,2904,2905,2906,2907,2908,2909,2910,2911,2912,2913,2914,2915,2916,2917,2918,2919,2920,2921,2922,2923,2924,2925,2926,2927,2928,2929,2930,2931,2932,2933,2934,2935,2936,2937,2938,2939,2940,2941,2942,2943,2944,2945,2946,2947,2948,2949,2950,2951,2952,2953,2954,2955,2956,2957,2958,2959,2960,2961,2962,2963,2964,2965,2966,2967,2968,2969,2970,2971,2972,2973,2974,2975,2976,2977,2978,2979,2980,2981,2982,2983,2984,2985,2986,2987,2988,2989,2990,2991,2992,2993,2994,2995,2996,2997,2998,2999,3000,3001,3002,3003,3004,3005,3006,3007,3008,3009,3010,3011,3012,3013,3014,3015,3016,3017,3018,3019,3020,3021,3022,3023,3024,3025,3026,3027,3028,3029,3030,3031,3032,3033,3034,3035,3036,3037,3038,3039,3040,3041,3042,3043,3044,3045,3046,3047,3048,3049,3050,3051,3052,3053,3054,3055,3056,3057,3058,3059,3060,3061,3062,3063,3064,3065,3066,3067,3068,3069,3070,3071,3072,3073,3074,3075,3076,3077,3078,3079,3080,3081,3082,3083,3084,3085,3086,3087,3088,3089,3090,3091,3092,3093,3094,3095,3096,3097,3098,3099,3100,3101,3102,3103,3104,3105,3106,3107,3108,3109,3110,3111,3112,3113,3114,3115,3116,3117,3118,3119,3120,3121,3122,3123,3124,3125,3126,3127,3128,3129,3130,3131,3132,3133,3134,3135,3136,3137,3138,3139,3140,3141,3142,3143,3144,3145,3146,3147,3148,3149,3150,3151,3152,3153,3154,3155,3156,3157,3158,3159,3160,3161,3162,3163,3164,3165,3166,3167,3168,3169,3170,3171,3172,3173,3174,3175,3176,3177,3178,3179,3180,3181,3182,3183,3184,3185,3186,3187,3188,3189,3190,3191,3192,3193,3194,3195,3196,3197,3198,3199,3200,3201,3202,3203,3204,3205,3206,3207,3208,3209,3210,3211,3212,3213,3214,3215,3216,3217,3218,3219,3220,3221,3222,3223,3224,3225,3226,3227,3228,3229,3230,3231,3232,3233,3234,3235,3236,3237,3238,3239,3240,3241,3242,3243,3244,3245,3246,3247,3248,3249,3250,3251,3252,3253,3254,3255,3256,3257,3258,3259,3260,3261,3262,3263,3264,3265,3266,3267,3268,3269,3270,3271,3272,3273,3274,3275,3276,3277,3278,3279,3280,3281,3282,3283,3284,3285,3286,3287,3288,3289,3290,3291,3292,3293,3294,3295,3296,3297,3298,3299,3300,3301,3302,3303,3304,3305,3306,3307,3308,3309,3310,3311,3312,3313,3314,3315,3316,3317,3318,3319,3320,3321,3322,3323,3324,3325,3326,3327,3328,3329,3330,3331,3332,3333,3334,3335,3336,3337,3338,3339,3340,3341,3342,3343,3344,3345,3346,3347,3348,3349,3350,3351,3352,3353,3354,3355,3356,3357,3358,3359,3360,3361,3362,3363,3364,3365,3366,3367,3368,3369,3370,3371,3372,3373,3374,3375,3376,3377,3378,3379,3380,3381,3382,3383,3384,3385,3386,3387,3388,3389,3390,3391,3392,3393,3394,3395,3396,3397,3398,3399,3400,3401,3402,3403,3404,3405,3406,3407,3408,3409,3410,3411,3412,3413,3414,3415,3416,3417,3418,3419,3420,3421,3422,3423,3424,3425,3426,3427,3428,3429,3430,3431,3432,3433,3434,3435,3436,3437,3438,3439,3440,3441,3442,3443,3444,3445,3446,3447,3448,3449,3450,3451,3452,3453,3454,3455,3456,3457,3458,3459,3460,3461,3462,3463,3464,3465,3466,3467,3468,3469,3470,3471,3472,3473,3474,3475,3476,3477,3478,3479,3480,3481,3482,3483,3484,3485,3486,3487,3488,3489,3490,3491,3492,3493,3494,3495,3496,3497,3498,3499,3500,3501,3502,3503],"height":31,"id":4,"name":"Tile Layer 2: Without pills","opacity":1,"type":"tilelayer","visible":false,"width":28,"x":0,"y":0},{"data":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3533,3533,3533,3533,3533,3533,3533,3533,3533,3533,3533,3533,0,0,3533,3533,3533,3533,3533,3533,3533,3533,3533,3533,3533,3533,0,0,3533,0,0,0,0,3533,0,0,0,0,0,3533,0,0,3533,0,0,0,0,0,3533,0,0,0,0,3533,0,0,3589,0,0,0,0,3533,0,0,0,0,0,3533,0,0,3533,0,0,0,0,0,3533,0,0,0,0,3589,0,0,3533,0,0,0,0,3533,0,0,0,0,0,3533,0,0,3533,0,0,0,0,0,3533,0,0,0,0,3533,0,0,3533,3533,3533,3533,3533,3533,3533,3533,3533,3533,3533,3533,3533,3533,3533,3533,3533,3533,3533,3533,3533,3533,3533,3533,3533,3533,0,0,3533,0,0,0,0,3533,0,0,3533,0,0,0,0,0,0,0,0,3533,0,0,3533,0,0,0,0,3533,0,0,3533,0,0,0,0,3533,0,0,3533,0,0,0,0,0,0,0,0,3533,0,0,3533,0,0,0,0,3533,0,0,3533,3533,3533,3533,3533,3533,0,0,3533,3533,3533,3533,0,0,3533,3533,3533,3533,0,0,3533,3533,3533,3533,3533,3533,0,0,0,0,0,0,0,3533,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3533,0,0,0,0,0,0,0,0,0,0,0,0,3533,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3533,0,0,0,0,0,0,0,0,0,0,0,0,3533,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3533,0,0,0,0,0,0,0,0,0,0,0,0,3533,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3533,0,0,0,0,0,0,0,0,0,0,0,0,3533,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3533,0,0,0,0,0,0,0,0,0,0,0,0,3533,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3533,0,0,0,0,0,0,0,0,0,0,0,0,3533,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3533,0,0,0,0,0,0,0,0,0,0,0,0,3533,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3533,0,0,0,0,0,0,0,0,0,0,0,0,3533,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3533,0,0,0,0,0,0,0,0,0,0,0,0,3533,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3533,0,0,0,0,0,0,0,0,0,0,0,0,3533,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3533,0,0,0,0,0,0,0,3533,3533,3533,3533,3533,3533,3533,3533,3533,3533,3533,3533,0,0,3533,3533,3533,3533,3533,3533,3533,3533,3533,3533,3533,3533,0,0,3533,0,0,0,0,3533,0,0,0,0,0,3533,0,0,3533,0,0,0,0,0,3533,0,0,0,0,3533,0,0,3533,0,0,0,0,3533,0,0,0,0,0,3533,0,0,3533,0,0,0,0,0,3533,0,0,0,0,3533,0,0,3589,3533,3533,0,0,3533,3533,3533,3533,3533,3533,3533,0,0,3533,3533,3533,3533,3533,3533,3533,0,0,3533,3533,3589,0,0,0,0,3533,0,0,3533,0,0,3533,0,0,0,0,0,0,0,0,3533,0,0,3533,0,0,3533,0,0,0,0,0,0,3533,0,0,3533,0,0,3533,0,0,0,0,0,0,0,0,3533,0,0,3533,0,0,3533,0,0,0,0,3533,3533,3533,3533,3533,3533,0,0,3533,3533,3533,3533,0,0,3533,3533,3533,3533,0,0,3533,3533,3533,3533,3533,3533,0,0,3533,0,0,0,0,0,0,0,0,0,0,3533,0,0,3533,0,0,0,0,0,0,0,0,0,0,3533,0,0,3533,0,0,0,0,0,0,0,0,0,0,3533,0,0,3533,0,0,0,0,0,0,0,0,0,0,3533,0,0,3533,3533,3533,3533,3533,3533,3533,3533,3533,3533,3533,3533,3533,3533,3533,3533,3533,3533,3533,3533,3533,3533,3533,3533,3533,3533,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"height":31,"id":6,"name":"Pills","opacity":1,"type":"tilelayer","visible":false,"width":28,"x":0,"y":0},{"data":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5240,5240,5240,5240,5240,5240,5240,5240,5240,5240,5240,5240,0,0,5240,5240,5240,5240,5240,5240,5240,5240,5240,5240,5240,5240,0,0,5240,0,0,0,0,5240,0,0,0,0,0,5240,0,0,5240,0,0,0,0,0,5240,0,0,0,0,5240,0,0,5240,0,0,0,0,5240,0,0,0,0,0,5240,0,0,5240,0,0,0,0,0,5240,0,0,0,0,5240,0,0,5240,0,0,0,0,5240,0,0,0,0,0,5240,0,0,5240,0,0,0,0,0,5240,0,0,0,0,5240,0,0,5240,5240,5240,5240,5240,5240,5240,5240,5240,5240,5240,5240,5240,5240,5240,5240,5240,5240,5240,5240,5240,5240,5240,5240,5240,5240,0,0,5240,0,0,0,0,5240,0,0,5240,0,0,0,0,0,0,0,0,5240,0,0,5240,0,0,0,0,5240,0,0,5240,0,0,0,0,5240,0,0,5240,0,0,0,0,0,0,0,0,5240,0,0,5240,0,0,0,0,5240,0,0,5240,5240,5240,5240,5240,5240,0,0,5240,5240,5240,5240,0,0,5240,5240,5240,5240,0,0,5240,5240,5240,5240,5240,5240,0,0,0,0,0,0,0,5240,0,0,0,0,0,5240,0,0,5240,0,0,0,0,0,5240,0,0,0,0,0,0,0,0,0,0,0,0,5240,0,0,0,0,0,5240,0,0,5240,0,0,0,0,0,5240,0,0,0,0,0,0,0,0,0,0,0,0,5240,0,0,5240,5240,5240,5240,5240,5240,5240,5240,5240,5240,0,0,5240,0,0,0,0,0,0,0,0,0,0,0,0,5240,0,0,5240,0,0,0,5241,5241,0,0,0,5240,0,0,5240,0,0,0,0,0,0,0,0,0,0,0,0,5240,0,0,5240,0,0,0,5241,5241,0,0,0,5240,0,0,5240,0,0,0,0,0,0,5240,5240,5240,5240,5240,5240,5240,5240,5240,5240,0,0,5240,5240,5240,5240,0,0,5240,5240,5240,5240,5240,5240,5240,5240,5240,5240,0,0,0,0,0,0,5240,0,0,5240,0,0,0,0,0,0,0,0,5240,0,0,5240,0,0,0,0,0,0,0,0,0,0,0,0,5240,0,0,5240,0,0,0,0,0,0,0,0,5240,0,0,5240,0,0,0,0,0,0,0,0,0,0,0,0,5240,0,0,5240,5240,5240,5240,5240,5240,5240,5240,5240,5240,0,0,5240,0,0,0,0,0,0,0,0,0,0,0,0,5240,0,0,5240,0,0,0,0,0,0,0,0,5240,0,0,5240,0,0,0,0,0,0,0,0,0,0,0,0,5240,0,0,5240,0,0,0,0,0,0,0,0,5240,0,0,5240,0,0,0,0,0,0,0,5240,5240,5240,5240,5240,5240,5240,5240,5240,5240,5240,5240,0,0,5240,5240,5240,5240,5240,5240,5240,5240,5240,5240,5240,5240,0,0,5240,0,0,0,0,5240,0,0,0,0,0,5240,0,0,5240,0,0,0,0,0,5240,0,0,0,0,5240,0,0,5240,0,0,0,0,5240,0,0,0,0,0,5240,0,0,5240,0,0,0,0,0,5240,0,0,0,0,5240,0,0,5240,5240,5240,0,0,5240,5240,5240,5240,5240,5240,5240,5240,5240,5240,5240,5240,5240,5240,5240,5240,0,0,5240,5240,5240,0,0,0,0,5240,0,0,5240,0,0,5240,0,0,0,0,0,0,0,0,5240,0,0,5240,0,0,5240,0,0,0,0,0,0,5240,0,0,5240,0,0,5240,0,0,0,0,0,0,0,0,5240,0,0,5240,0,0,5240,0,0,0,0,5240,5240,5240,5240,5240,5240,0,0,5240,5240,5240,5240,0,0,5240,5240,5240,5240,0,0,5240,5240,5240,5240,5240,5240,0,0,5240,0,0,0,0,0,0,0,0,0,0,5240,0,0,5240,0,0,0,0,0,0,0,0,0,0,5240,0,0,5240,0,0,0,0,0,0,0,0,0,0,5240,0,0,5240,0,0,0,0,0,0,0,0,0,0,5240,0,0,5240,5240,5240,5240,5240,5240,5240,5240,5240,5240,5240,5240,5240,5240,5240,5240,5240,5240,5240,5240,5240,5240,5240,5240,5240,5240,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"height":31,"id":7,"name":"Ways","opacity":1,"type":"tilelayer","visible":true,"width":28,"x":0,"y":0}],"nextlayerid":8,"nextobjectid":1,"orientation":"orthogonal","renderorder":"right-down","tiledversion":"1.3.1","tileheight":8,"tilesets":[{"columns":85,"firstgid":1,"image":"../../public/resources/arcade_pacman_sprites.png","imageheight":248,"imagewidth":680,"margin":0,"name":"Assets","spacing":0,"tilecount":2635,"tileheight":8,"tileoffset":{"x":4,"y":4},"tilewidth":8},{"firstgid":2636,"source":"Maze empty.tsx"},{"firstgid":3504,"source":"Maze full.tsx"},{"firstgid":4372,"source":"../../../../../../Downloads/Maze full.tsx"},{"columns":1,"firstgid":5240,"image":"Ways.png","imageheight":16,"imagewidth":8,"margin":0,"name":"Ways","spacing":0,"tilecount":2,"tileheight":8,"tilewidth":8},{"firstgid":5242,"source":"../../../../../../Downloads/Maze empty.tsx"}],"tilewidth":8,"type":"map","version":1.2,"width":28}')},55:function(t,e,n){},60:function(t,e,n){},63:function(t,e,n){},64:function(t,e,n){},65:function(t,e,n){},66:function(t,e,n){},67:function(t,e,n){"use strict";n.r(e);var r=n(2),i=n(1),o=n(32),a=n.n(o),c=(n(55),n(56),n(59),n(60),n(7)),s=n(15),u=n(20),l=n(5),p=(n(24),n(4)),h=n(16);function d(t,e){if(!t)throw new Error("Assertion error ".concat(null!==e&&void 0!==e?e:""))}var b,f,y,m,g,O,j,v,x,w,T,C,P,S,D,E,M,z,k,I,N,L,G,A,_,B,R,F,W,H,V,U,Z,q,J,Y,K,Q,X,$,tt,et,nt,rt,it,ot,at,ct,st,ut,lt=["UP","DOWN","LEFT","RIGHT"],pt=function(t){d(lt.includes(t),"Bad direction ".concat(t))},ht=n(40),dt=3533,bt=function(t){var e=ht.layers.find((function(e){return e.name===t}));if(!e)throw new Error("".concat(t," layer not found"));return e},ft=bt("Pills"),yt=bt("Ways"),mt=ft.width,gt=ft.height,Ot=function(t){for(var e=Array(gt),n=0,r=0;r<gt;r++){e[r]=Array(mt);for(var i=0;i<mt;i++){var o=t[n];e[r][i]=o,n++}}return e},jt=Ot(yt.data),vt=2.5,xt=20,wt=10,Tt={x:wt,y:wt},Ct=mt*xt,Pt=gt*xt,St={x:mt,y:gt},Dt=function(t){return t>=0&&t<mt},Et=function(t){return t>=0&&t<gt},Mt=function(t){return Dt(t.x)&&Et(t.y)},zt=function(t){var e,n;e=t.x,d(Dt(e),"Invalid t.x ".concat(e," width: ").concat(mt)),n=t.y,d(Et(n),"Invalid t.y ".concat(n," height: ").concat(gt))},kt=function(t){return t*xt},It=function(t){return Math.floor(t/xt)},Nt=function(t){return{x:kt(t.x),y:kt(t.y)}},Lt=function(t){return{x:It(t.x),y:It(t.y)}},Gt=function(t,e){return{x:t.x+e.x,y:t.y+e.y}},At=function(t,e){return e.x>=t.tile1.x&&e.x<=t.tile2.x&&e.y>=t.tile1.y&&e.y<=t.tile2.y},_t=function(t,e){return{x:(t.x+e.x)%e.x,y:(t.y+e.y)%e.y}},Bt=function(t,e){return{x:t*e.x,y:t*e.y}},Rt={tile1:{x:10,y:12},tile2:{x:17,y:16}},Ft={tile1:{x:12,y:14},tile2:{x:15,y:14}},Wt=function(t){return zt(t),5240===jt[t.y][t.x]},Ht=function(t){return t.x%xt===0&&t.y%xt===0},Vt={RIGHT:{x:1,y:0},LEFT:{x:-1,y:0},UP:{x:0,y:-1},DOWN:{x:0,y:1}},Ut=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Bt(e,Vt[t])},Zt=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=Vt[e],i={x:t.x+r.x*n,y:t.y+r.y*n};return i},qt={RIGHT:"LEFT",LEFT:"RIGHT",UP:"DOWN",DOWN:"UP"},Jt=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=Yt(t,e,n);return Wt(r)},Yt=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;pt(e);var r=Kt[e],i=Bt(n,r),o=Gt(t,i),a=_t(o,St);return a},Kt={RIGHT:{x:1,y:0},LEFT:{x:-1,y:0},UP:{x:0,y:-1},DOWN:{x:0,y:1}},Qt=function(t){t.direction=qt[t.direction]},Xt=n(22),$t=function(t,e){var n=Math.abs(t.x-e.x),r=Math.abs(t.y-e.y);return Math.sqrt(Math.pow(n,2)+Math.pow(r,2))},te=function(t){var e=t.currentTile,n=t.currentDirection,r=t.targetTile,i=t.boxDoorIsOpen;d(Mt(e),"".concat(Object(p.toJS)(e)));var o=ee({currentTile:e,currentDirection:n,targetTile:r,boxDoorIsOpen:i});if(o)return d(Mt(o)),o;var a=ne({currentTile:e,currentDirection:n,boxDoorIsOpen:i});if(a)return d(Mt(a)),a;throw console.error("currentTile",e),console.error("currentDirection",n),console.error("boxDoorIsOpen",i),console.error("targetTile",Object(p.toJS)(r)),new Error("Found no candidate at ".concat(JSON.stringify(e)))},ee=function(t){var e,n=t.currentTile,r=t.currentDirection,i=t.targetTile,o=t.boxDoorIsOpen,a=[],c=Object(h.a)(lt);try{for(c.s();!(e=c.n()).done;){var s=e.value;if(qt[s]!==r){var u=Yt(n,s);if(re(u,o)){var l=$t(u,i);a.push({tile:u,distanceToTarget:l})}}}}catch(d){c.e(d)}finally{c.f()}var p=Object(Xt.minBy)(a,"distanceToTarget");return p?p.tile:null},ne=function(t){var e=t.currentTile,n=t.currentDirection,r=t.boxDoorIsOpen,i=Yt(e,n);if(re(i,r))return i;var o,a=Object(h.a)(lt);try{for(a.s();!(o=a.n()).done;){var c=o.value,s=Yt(e,c);if(re(s,r))return s}}catch(u){a.e(u)}finally{a.f()}return null},re=function(t,e){return Mt(t)&&ie(t,e)},ie=function(t,e){return Wt(t)||e&&(zt(n=t),5241===jt[n.y][n.x]);var n},oe=mt-1,ae=function(t,e){if(d(t,"tileFrom"),d(e,"tileTo"),Object(Xt.isEqual)(t,e))throw new Error("Same tile");if(t.x===oe&&0===e.x)return"RIGHT";if(0===t.x&&e.x===oe)return"LEFT";if(t.x<e.x)return"RIGHT";if(t.x>e.x)return"LEFT";if(t.y<e.y)return"DOWN";if(t.y>e.y)return"UP";throw new Error("Same tiles")},ce=n(72),se=n(70),ue="scatter",le=Object(ce.a)({id:"ghost",initial:ue,on:{RESET:ue},states:{chase:{on:{ENERGIZER_EATEN:"frightened",PHASE_END:{target:"scatter",actions:"onChaseToScatter"},COLLISION_WITH_PAC_MAN:{target:"scatter"}}},scatter:{on:{ENERGIZER_EATEN:"frightened",PHASE_END:{target:"chase",actions:"onScatterToChase"},COLLISION_WITH_PAC_MAN:{target:"scatter"}}},frightened:{on:{ENERGIZER_TIMED_OUT:"chase",COLLISION_WITH_PAC_MAN:{target:"dead",actions:"onDead"}}},dead:{on:{REVIVED:"scatter",ENERGIZER_TIMED_OUT:"scatter"}}}}),pe=(b=p.action.bound,f=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;Object(s.a)(this,t),this.duration=void 0,this.onTimedOut=void 0,Object(c.a)(this,"running",y,this),Object(c.a)(this,"timeSpent",m,this),this.duration=e,this.onTimedOut=n,this.running=!1,this.timeSpent=0}return Object(u.a)(t,[{key:"setDuration",value:function(t){this.duration=t}},{key:"start",value:function(){this.running=!0,this.timeSpent=0}},{key:"advance",value:function(t){var e;this.running&&(this.timeSpent+=t,this.isTimedOut&&(null===(e=this.onTimedOut)||void 0===e||e.call(this),this.stop()))}},{key:"stop",value:function(){this.running=!1}},{key:"restart",value:function(){this.stop(),this.start()}},{key:"timeLeft",get:function(){return this.duration-this.timeSpent}},{key:"isTimedOut",get:function(){return this.timeSpent>=this.duration}}]),t}(),y=Object(l.a)(f.prototype,"running",[p.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=Object(l.a)(f.prototype,"timeSpent",[p.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Object(l.a)(f.prototype,"setDuration",[p.action],Object.getOwnPropertyDescriptor(f.prototype,"setDuration"),f.prototype),Object(l.a)(f.prototype,"start",[b],Object.getOwnPropertyDescriptor(f.prototype,"start"),f.prototype),Object(l.a)(f.prototype,"advance",[p.action],Object.getOwnPropertyDescriptor(f.prototype,"advance"),f.prototype),Object(l.a)(f.prototype,"stop",[p.action],Object.getOwnPropertyDescriptor(f.prototype,"stop"),f.prototype),Object(l.a)(f.prototype,"timeLeft",[p.computed],Object.getOwnPropertyDescriptor(f.prototype,"timeLeft"),f.prototype),Object(l.a)(f.prototype,"isTimedOut",[p.computed],Object.getOwnPropertyDescriptor(f.prototype,"isTimedOut"),f.prototype),f),he=Object(p.action)("updateGhostStatePhaseTime",(function(t){t.statePhaseTimer.advance(t.game.lastFrameLength)})),de=Object(p.action)("updateGhostStatePhase",(function(t){t.atTileCenter&&t.statePhaseTimer.isTimedOut&&(t.send("PHASE_END"),t.statePhaseTimer.setDuration(be(t.state)),t.statePhaseTimer.restart())})),be=function(t){switch(t){case"chase":return 2e4;case"scatter":return 7e3;default:return 9999999999}},fe=n.p+"static/media/ghost_dead.a3650929.mp3",ye=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5;if(e.gameStarted&&!e.isMuted){var r=new Audio(t);r.play(),r.volume=n}},me=[0,100,200,400,800,1600,3200],ge=(g=p.action.bound,O=p.action.bound,j=p.action.bound,v=p.action.bound,x=p.observable.ref,w=function(){function t(e){Object(s.a)(this,t),this.stateChart=function(t){var e=le.withConfig({actions:{onScatterToChase:t.onScatterToChase,onChaseToScatter:t.onChaseToScatter,onDead:t.onDead}});return Object(se.a)(e)}({onScatterToChase:this.onScatterToChase,onChaseToScatter:this.onChaseToScatter,onDead:this.onDead}),Object(c.a)(this,"stateChartState",T,this),Object(c.a)(this,"stateChanges",C,this),this.name="ghost name",Object(c.a)(this,"ghostPaused",P,this),this.game=void 0,Object(c.a)(this,"ghostNumber",S,this),this.color="ghost color",this.colorCode="#00ffff",Object(c.a)(this,"screenCoordinates",D,this),Object(c.a)(this,"speedFactor",E,this),Object(c.a)(this,"deadWaitingTimeInBoxLeft",M,this),Object(c.a)(this,"direction",z,this),Object(c.a)(this,"targetTile",k,this),this.statePhaseTimer=new pe(3e3),this.initialWaitingTimeInBox=0,this.game=e,this.stateChart.onTransition(this.handleStateTransition),this.stateChart.start()}return Object(u.a)(t,[{key:"handleStateTransition",value:function(t){t.changed&&(this.stateChartState=t,this.stateChanges++)}},{key:"onDead",value:function(){this.game.killedGhosts++,this.game.score+=me[this.game.killedGhosts],this.deadWaitingTimeInBoxLeft=7e3,ye(fe,this.game)}},{key:"onScatterToChase",value:function(){Qt(this)}},{key:"onChaseToScatter",value:function(){Qt(this)}},{key:"send",value:function(t){this.stateChart.send(t)}},{key:"setTileCoordinates",value:function(t){this.screenCoordinates=Nt(t)}},{key:"resetGhost",value:function(){this.ghostPaused=!1,this.send("RESET"),this.statePhaseTimer.setDuration(be(this.state)),this.statePhaseTimer.restart()}},{key:"state",get:function(){return this.stateChartState.value}},{key:"dead",get:function(){return this.stateChartState.matches("dead")}},{key:"alive",get:function(){return!this.dead}},{key:"frightened",get:function(){return this.stateChartState.matches("frightened")}},{key:"atTileCenter",get:function(){return Ht(this.screenCoordinates)}},{key:"tileCoordinates",get:function(){return Lt(this.screenCoordinates)}},{key:"animationPhase",get:function(){return Math.round((this.game.timestamp+100*this.ghostNumber)/300)%2===0?0:1}},{key:"frightenedAboutToEnd",get:function(){return this.game.energizerTimer.timeLeft<3e3}},{key:"frightenedGhostTime",get:function(){return this.frightenedAboutToEnd?this.game.timestamp%1e3<500?0:1:0}},{key:"wayPoints",get:function(){return function(t,e,n,r){for(var i=[t],o=t,a=n,c=function(){var t=te({currentTile:o,currentDirection:a,targetTile:e,boxDoorIsOpen:r});if(i.some((function(e){return Object(Xt.isEqual)(e,t)})))return{v:i};i.push(t),a=ae(o,t),o=t};!Object(Xt.isEqual)(o,e);){var s=c();if("object"===typeof s)return s.v}return i}(this.tileCoordinates,this.targetTile,this.direction,this.canPassThroughBoxDoor)}},{key:"isInsideBoxWalls",get:function(){return t=this.tileCoordinates,At(Rt,t);var t}},{key:"isOutsideBoxSpace",get:function(){return t=this.tileCoordinates,!At(Ft,t);var t}},{key:"canPassThroughBoxDoor",get:function(){if(this.alive&&this.isInsideBoxWalls&&this.game.timestamp>this.initialWaitingTimeInBox)return!0;if(this.dead){if(this.isOutsideBoxSpace)return!0;if(this.deadWaitingTimeInBoxLeft<=0)return!0}return!1}}]),t}(),Object(l.a)(w.prototype,"handleStateTransition",[g],Object.getOwnPropertyDescriptor(w.prototype,"handleStateTransition"),w.prototype),Object(l.a)(w.prototype,"onDead",[O],Object.getOwnPropertyDescriptor(w.prototype,"onDead"),w.prototype),Object(l.a)(w.prototype,"onScatterToChase",[j],Object.getOwnPropertyDescriptor(w.prototype,"onScatterToChase"),w.prototype),Object(l.a)(w.prototype,"onChaseToScatter",[v],Object.getOwnPropertyDescriptor(w.prototype,"onChaseToScatter"),w.prototype),T=Object(l.a)(w.prototype,"stateChartState",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.stateChart.state}}),Object(l.a)(w.prototype,"state",[p.computed],Object.getOwnPropertyDescriptor(w.prototype,"state"),w.prototype),C=Object(l.a)(w.prototype,"stateChanges",[p.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Object(l.a)(w.prototype,"dead",[p.computed],Object.getOwnPropertyDescriptor(w.prototype,"dead"),w.prototype),Object(l.a)(w.prototype,"alive",[p.computed],Object.getOwnPropertyDescriptor(w.prototype,"alive"),w.prototype),Object(l.a)(w.prototype,"frightened",[p.computed],Object.getOwnPropertyDescriptor(w.prototype,"frightened"),w.prototype),P=Object(l.a)(w.prototype,"ghostPaused",[p.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),S=Object(l.a)(w.prototype,"ghostNumber",[p.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),D=Object(l.a)(w.prototype,"screenCoordinates",[p.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{x:16,y:16}}}),Object(l.a)(w.prototype,"atTileCenter",[p.computed],Object.getOwnPropertyDescriptor(w.prototype,"atTileCenter"),w.prototype),E=Object(l.a)(w.prototype,"speedFactor",[p.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Object(l.a)(w.prototype,"setTileCoordinates",[p.action],Object.getOwnPropertyDescriptor(w.prototype,"setTileCoordinates"),w.prototype),Object(l.a)(w.prototype,"tileCoordinates",[p.computed],Object.getOwnPropertyDescriptor(w.prototype,"tileCoordinates"),w.prototype),Object(l.a)(w.prototype,"animationPhase",[p.computed],Object.getOwnPropertyDescriptor(w.prototype,"animationPhase"),w.prototype),Object(l.a)(w.prototype,"frightenedAboutToEnd",[p.computed],Object.getOwnPropertyDescriptor(w.prototype,"frightenedAboutToEnd"),w.prototype),M=Object(l.a)(w.prototype,"deadWaitingTimeInBoxLeft",[p.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Object(l.a)(w.prototype,"frightenedGhostTime",[p.computed],Object.getOwnPropertyDescriptor(w.prototype,"frightenedGhostTime"),w.prototype),z=Object(l.a)(w.prototype,"direction",[p.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"LEFT"}}),k=Object(l.a)(w.prototype,"targetTile",[p.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{x:1,y:1}}}),Object(l.a)(w.prototype,"wayPoints",[p.computed],Object.getOwnPropertyDescriptor(w.prototype,"wayPoints"),w.prototype),Object(l.a)(w.prototype,"isInsideBoxWalls",[p.computed],Object.getOwnPropertyDescriptor(w.prototype,"isInsideBoxWalls"),w.prototype),Object(l.a)(w.prototype,"isOutsideBoxSpace",[p.computed],Object.getOwnPropertyDescriptor(w.prototype,"isOutsideBoxSpace"),w.prototype),Object(l.a)(w.prototype,"canPassThroughBoxDoor",[p.computed],Object.getOwnPropertyDescriptor(w.prototype,"canPassThroughBoxDoor"),w.prototype),Object(l.a)(w.prototype,"resetGhost",[p.action],Object.getOwnPropertyDescriptor(w.prototype,"resetGhost"),w.prototype),w),Oe=function(t){t[0].setTileCoordinates({x:12,y:14}),t[0].direction="LEFT",t[1].setTileCoordinates({x:13,y:14}),t[1].direction="RIGHT",t[2].setTileCoordinates({x:14,y:14}),t[3].direction="LEFT",t[3].setTileCoordinates({x:15,y:14}),t[3].direction="RIGHT";var e,n=Object(h.a)(t);try{for(n.s();!(e=n.n()).done;){e.value.resetGhost()}}catch(r){n.e(r)}finally{n.f()}},je=(I=function t(){Object(s.a)(this,t),Object(c.a)(this,"pills",N,this)},N=Object(l.a)(I.prototype,"pills",[p.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ot(ft.data)}}),I),ve="eating",xe=Object(ce.a)({id:"pac-man",initial:ve,states:{eating:{on:{ENERGIZER_EATEN:"chasing",COLLISION_WITH_GHOST:"dead"}},chasing:{entry:"onChasing",on:{ENERGIZER_TIMED_OUT:"eating"}},dead:{entry:"onDead",on:{REVIVED:"eating"}}}}),we=n.p+"static/media/die.603710c3.mp3",Te=(L=p.action.bound,G=p.observable.ref,A=p.action.bound,_=p.action.bound,B=function(){function t(e){Object(s.a)(this,t),this.game=void 0,this.stateChart=function(t){var e=xe.withConfig({actions:{onChasing:t.onChasing,onDead:t.onDead}});return Object(se.a)(e)}({onChasing:this.onChasing,onDead:this.onDead}),Object(c.a)(this,"stateChartState",R,this),Object(c.a)(this,"screenCoordinates",F,this),Object(c.a)(this,"diedAtTimestamp",W,this),Object(c.a)(this,"extraLivesLeft",H,this),Object(c.a)(this,"direction",V,this),this.nextDirection="RIGHT",this.game=e,this.stateChart.onTransition(this.handleTransition),this.stateChart.start()}return Object(u.a)(t,[{key:"handleTransition",value:function(t){t.changed&&(this.stateChartState=t)}},{key:"onChasing",value:function(){this.game.energizerTimer.start()}},{key:"onDead",value:function(){this.diedAtTimestamp=this.game.timestamp,ye(we,this.game)}},{key:"send",value:function(t){this.stateChart.send(t)}},{key:"setTileCoordinates",value:function(t){zt(t),this.screenCoordinates=Nt(t)}},{key:"dead",get:function(){return this.stateChartState.matches("dead")}},{key:"state",get:function(){return this.stateChartState.value}},{key:"alive",get:function(){return!this.dead}},{key:"tileCoordinates",get:function(){return Lt(this.screenCoordinates)}},{key:"timeSinceDeath",get:function(){return this.alive?0:this.game.timestamp-this.diedAtTimestamp}}]),t}(),Object(l.a)(B.prototype,"handleTransition",[L],Object.getOwnPropertyDescriptor(B.prototype,"handleTransition"),B.prototype),R=Object(l.a)(B.prototype,"stateChartState",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.stateChart.state}}),Object(l.a)(B.prototype,"onChasing",[A],Object.getOwnPropertyDescriptor(B.prototype,"onChasing"),B.prototype),Object(l.a)(B.prototype,"onDead",[_],Object.getOwnPropertyDescriptor(B.prototype,"onDead"),B.prototype),Object(l.a)(B.prototype,"dead",[p.computed],Object.getOwnPropertyDescriptor(B.prototype,"dead"),B.prototype),Object(l.a)(B.prototype,"state",[p.computed],Object.getOwnPropertyDescriptor(B.prototype,"state"),B.prototype),Object(l.a)(B.prototype,"alive",[p.computed],Object.getOwnPropertyDescriptor(B.prototype,"alive"),B.prototype),F=Object(l.a)(B.prototype,"screenCoordinates",[p.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Nt({x:1,y:1})}}),Object(l.a)(B.prototype,"setTileCoordinates",[p.action],Object.getOwnPropertyDescriptor(B.prototype,"setTileCoordinates"),B.prototype),Object(l.a)(B.prototype,"tileCoordinates",[p.computed],Object.getOwnPropertyDescriptor(B.prototype,"tileCoordinates"),B.prototype),W=Object(l.a)(B.prototype,"diedAtTimestamp",[p.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),Object(l.a)(B.prototype,"timeSinceDeath",[p.computed],Object.getOwnPropertyDescriptor(B.prototype,"timeSinceDeath"),B.prototype),H=Object(l.a)(B.prototype,"extraLivesLeft",[p.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),V=Object(l.a)(B.prototype,"direction",[p.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"RIGHT"}}),B),Ce=function(t){t.diedAtTimestamp=-1,t.stateChart.state.value=ve,t.setTileCoordinates({x:14,y:23}),t.nextDirection="LEFT",t.direction="LEFT"},Pe=(U=p.action.bound,Z=function(){function t(e){var n=this;Object(s.a)(this,t),this.store=void 0,Object(c.a)(this,"externalTimeStamp",q,this),Object(c.a)(this,"timestamp",J,this),Object(c.a)(this,"lastFrameLength",Y,this),Object(c.a)(this,"frameCount",K,this),Object(c.a)(this,"gamePaused",Q,this),this.speed=1,this.ghosts=void 0,this.pacMan=void 0,this.gameStarted=!1,Object(c.a)(this,"isMuted",X,this),Object(c.a)(this,"score",$,this),Object(c.a)(this,"killedGhosts",tt,this),this.maze=new je,this.energizerTimer=new pe(5e3,(function(){n.handleEnergizerTimedOut()})),this.store=e,this.pacMan=new Te(this),this.ghosts=function(t){var e=[new ge(t),new ge(t),new ge(t),new ge(t)];return e[0].ghostNumber=0,e[0].name="Blinky",e[0].color="red",e[0].colorCode="#ff0000",e[0].initialWaitingTimeInBox=1e3,e[1].ghostNumber=1,e[1].name="Pinky",e[1].color="pink",e[1].colorCode="#fcb5ff",e[1].initialWaitingTimeInBox=1300,e[2].ghostNumber=2,e[2].name="Inky",e[2].color="blue",e[2].colorCode="#00ffff",e[2].initialWaitingTimeInBox=1600,e[3].ghostNumber=3,e[3].name="Clyde",e[3].color="orange",e[3].colorCode="#f9ba55",e[3].initialWaitingTimeInBox=1900,Oe(e),e}(this)}return Object(u.a)(t,[{key:"revivePacMan",value:function(){this.pacMan.send("REVIVED"),this.timestamp=0,Ce(this.pacMan),Oe(this.ghosts)}},{key:"handleEnergizerTimedOut",value:function(){this.pacMan.send("ENERGIZER_TIMED_OUT");var t,e=Object(h.a)(this.ghosts);try{for(e.s();!(t=e.n()).done;){t.value.send("ENERGIZER_TIMED_OUT")}}catch(n){e.e(n)}finally{e.f()}}},{key:"readyGameForPlay",value:function(){Ce(this.pacMan)}},{key:"muteGame",value:function(){this.isMuted=!this.isMuted}},{key:"gameOver",get:function(){var t=this.pacMan;return t.dead&&0===t.extraLivesLeft}}]),t}(),q=Object(l.a)(Z.prototype,"externalTimeStamp",[p.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=Object(l.a)(Z.prototype,"timestamp",[p.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Y=Object(l.a)(Z.prototype,"lastFrameLength",[p.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 17}}),K=Object(l.a)(Z.prototype,"frameCount",[p.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Q=Object(l.a)(Z.prototype,"gamePaused",[p.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),X=Object(l.a)(Z.prototype,"isMuted",[p.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Boolean(localStorage.getItem("pacman-muted"))}}),$=Object(l.a)(Z.prototype,"score",[p.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),tt=Object(l.a)(Z.prototype,"killedGhosts",[p.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Object(l.a)(Z.prototype,"revivePacMan",[U],Object.getOwnPropertyDescriptor(Z.prototype,"revivePacMan"),Z.prototype),Object(l.a)(Z.prototype,"gameOver",[p.computed],Object.getOwnPropertyDescriptor(Z.prototype,"gameOver"),Z.prototype),Object(l.a)(Z.prototype,"handleEnergizerTimedOut",[p.action],Object.getOwnPropertyDescriptor(Z.prototype,"handleEnergizerTimedOut"),Z.prototype),Z),Se=(et=function t(e){Object(s.a)(this,t),this.store=void 0,Object(c.a)(this,"gameViewOptions",nt,this),Object(c.a)(this,"ghostViewOptions",rt,this),Object(c.a)(this,"pacManViewOptions",it,this),this.store=e},nt=Object(l.a)(et.prototype,"gameViewOptions",[p.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{hitBox:!1}}}),rt=Object(l.a)(et.prototype,"ghostViewOptions",[p.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{target:!1,wayPoints:!1}}}),it=Object(l.a)(et.prototype,"pacManViewOptions",[p.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{somePlaceholder:!1}}}),et),De=(ot=p.action.bound,at=p.action.bound,ct=p.action.bound,st=function(){function t(){Object(s.a)(this,t),Object(c.a)(this,"game",ut,this),this.debugState=new Se(this),this.level=1}return Object(u.a)(t,[{key:"resetGame",value:function(){this.game=new Pe(this),this.game.readyGameForPlay(),this.game.gameStarted=!0,this.setGameLevel()}},{key:"muteSounds",value:function(){this.game.muteGame()}},{key:"setGameLevel",value:function(){this.game.speed=this.level}}]),t}(),ut=Object(l.a)(st.prototype,"game",[p.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Pe(this)}}),Object(l.a)(st.prototype,"resetGame",[ot],Object.getOwnPropertyDescriptor(st.prototype,"resetGame"),st.prototype),Object(l.a)(st.prototype,"muteSounds",[at],Object.getOwnPropertyDescriptor(st.prototype,"muteSounds"),st.prototype),Object(l.a)(st.prototype,"setGameLevel",[ct],Object.getOwnPropertyDescriptor(st.prototype,"setGameLevel"),st.prototype),st),Ee=Object(i.createContext)(null),Me=Ee.Provider,ze=function(){var t=Object(i.useContext)(Ee);return d(t,"Store not provided - use <StoreProvider>"),t},ke=function(){return ze().game},Ie=n(23),Ne=n(10),Le=n(11),Ge=function(t,e){return t.x<e.x+e.width&&t.x+t.width>e.x&&t.y<e.y+e.height&&t.y+t.height>e.y},Ae=n.p+"static/media/eat-fruit.83feae2d.mp3",_e=Object(p.action)((function(t){t.score+=30,t.killedGhosts=0,t.pacMan.send("ENERGIZER_EATEN"),ye(Ae,t);var e,n=Object(h.a)(t.ghosts);try{for(n.s();!(e=n.n()).done;){e.value.send("ENERGIZER_EATEN")}}catch(r){n.e(r)}finally{n.f()}})),Be=n.p+"static/media/pacman_eat.dfc13d55.wav",Re=function(t,e){var n=Nt(t);return{x:n.x-1,y:n.y-1,width:2,height:2}},Fe=function(t){return{x:t.x-7.5+1,y:t.y-7.5+2,width:15,height:15}},We=function(t){return{x:t.x-12.5,y:t.y-12.5,width:25,height:25}},He=function(t,e){var n=e.maze.pills[t.y][t.x];switch(n){case dt:Ve(t,e);break;case 3589:_e(e);break;default:console.error("Unknown pill layer tile id",n)}e.maze.pills[t.y][t.x]=0},Ve=function(t,e){e.score+=10,ye(Be,e,.3)},Ue=function(t){t.game.pacMan.send("COLLISION_WITH_GHOST"),t.send("COLLISION_WITH_PAC_MAN")},Ze=function(t){t.pacMan.dead||(function(t){var e=t.pacMan.tileCoordinates;if(0!==t.maze.pills[e.y][e.x]){var n=Re(e),r=Fe(t.pacMan.screenCoordinates);Ge(r,n)&&He(e,t)}}(t),function(t){var e,n=Fe(t.pacMan.screenCoordinates),r=Object(h.a)(t.ghosts);try{for(r.s();!(e=r.n()).done;){var i=e.value;if(!i.dead){var o=We(i.screenCoordinates);Ge(n,o)&&Ue(i)}}}catch(a){r.e(a)}finally{r.f()}}(t))},qe={x:13,y:11},Je={x:14,y:14},Ye={x:26,y:1},Ke=function(t){if(t.isInsideBoxWalls)return qe;switch(t.ghostNumber){case 0:return Ye;case 1:return{x:1,y:1};case 2:return{x:26,y:29};case 3:return{x:1,y:29};default:throw new Error("Bad ghostNumber ".concat(t.ghostNumber))}},Qe=function(t){var e,n,r=Xe(t),i=t.game.ghosts[0],o=(e=r,{x:(n=i.tileCoordinates).x-e.x,y:n.y-e.y}),a=Bt(-1,o);return Gt(r,a)},Xe=function(t){var e=t.game.pacMan,n=Zt(e.tileCoordinates,e.direction,2);return"UP"===e.direction?Zt(n,"LEFT",2):n},$e=function(t){if(t.isInsideBoxWalls)return qe;switch(t.ghostNumber){case 0:return function(t){return t.game.pacMan.tileCoordinates}(t);case 1:return function(t){var e=t.game.pacMan,n=Zt(e.tileCoordinates,e.direction,4);return"UP"===e.direction?Zt(n,"LEFT",4):n}(t);case 2:return Qe(t);case 3:return function(t){var e=t.game.pacMan;return $t(t.tileCoordinates,e.tileCoordinates)>=8?e.tileCoordinates:Ke(t)}(t);default:throw new Error("Bad ghostNumber ".concat(t.ghostNumber))}},tn=function(t){return en(t)},en=function(t){var e=lt.filter((function(e){return e!==t.direction&&Jt(t.tileCoordinates,e)}));d(e.length>0);var n,r=e[(n=e.length,Math.floor(Math.random()*Math.floor(n)))];return d(r),Yt(t.tileCoordinates,r)},nn=function(t){return Je},rn=function(t){var e=t.ghost;e.ghostPaused||(he(e),on(e),de(e),an(e))},on=function(t){t.dead&&t.deadWaitingTimeInBoxLeft>0&&(t.deadWaitingTimeInBoxLeft-=t.game.lastFrameLength)},an=function(t){t.game.pacMan.dead||(t.atTileCenter&&cn(t),pn(t))},cn=function(t){t.targetTile=function(t){switch(t.state){case"scatter":return Ke(t);case"chase":return $e(t);case"frightened":return tn(t);case"dead":return nn(t);default:throw new Error("Bad state ".concat(t.state))}}(t),sn(t),un(t)},sn=function(t){var e=ln(t);t.direction=e},un=function(t){var e=bn(t);t.speedFactor=e},ln=function(t){var e=t.tileCoordinates,n=t.direction,r=t.targetTile,i=t.canPassThroughBoxDoor,o=te({currentTile:e,currentDirection:n,targetTile:r,boxDoorIsOpen:i});return ae(e,o)},pn=function(t){var e=dn(t);hn(t,e)},hn=Object(p.action)((function(t,e){t.screenCoordinates.x=(t.screenCoordinates.x+e.x+Ct)%Ct,t.screenCoordinates.y=(t.screenCoordinates.y+e.y+Pt)%Pt,zt(t.tileCoordinates)})),dn=function(t){var e=t.game.speed*t.speedFactor;return Ut(t.direction,e)},bn=function(t){return t.dead?4:14===(e=t.tileCoordinates).y&&(e.x>=22||e.x<=5)||"frightened"===t.state?.5:2;var e},fn=(Array.from(Array(13).keys()),2600),yn=Object(p.action)((function(t,e){t.screenCoordinates.x=(t.screenCoordinates.x+e.x+Ct)%Ct,t.screenCoordinates.y+=e.y})),mn=function(t){if(Ht(t.screenCoordinates)){var e=Lt(t.screenCoordinates);t.direction!==t.nextDirection&&Jt(e,t.nextDirection)&&(t.direction=t.nextDirection),Jt(e,t.direction)&&gn(t)}else gn(t)},gn=function(t){var e=t.game.speed,n=On(e),r=Ut(t.direction,n);yn(t,r)},On=function(t){switch(t){case.5:return 1;case 1:return 2;case 2:return 4;default:return t}},jn=function(t){t.timeSinceDeath>=fn&&vn(t)},vn=function(t){t.extraLivesLeft>0&&(t.extraLivesLeft-=1,t.game.revivePacMan())},xn=Object(p.action)("onAnimationFrame",(function(t){var e=t.game;!function(t){var e=t.game,n=t.externalTimeStamp;null===e.externalTimeStamp?e.lastFrameLength=17:e.lastFrameLength=n-e.externalTimeStamp,e.externalTimeStamp=n}({game:e,externalTimeStamp:t.timestamp}),e.gamePaused||(!function(t){t.timestamp+=t.lastFrameLength,t.frameCount++}(e),function(t){t.energizerTimer.advance(t.lastFrameLength)}(e),function(t){var e=t.pacMan;e.alive?mn(e):jn(e)}(e),function(t){var e,n=Object(h.a)(t.ghosts);try{for(n.s();!(e=n.n()).done;){var r=e.value;rn({ghost:r})}}catch(i){n.e(i)}finally{n.f()}}(e),Ze(e))})),wn=function(){var t=ze();!function(t){var e=Object(i.useRef)(-1),n=function n(r){t(r),e.current=requestAnimationFrame(n)};Object(i.useEffect)((function(){return requestAnimationFrame(n),function(){cancelAnimationFrame(e.current)}}),[])}((function(e){var n=t.game;xn({game:n,timestamp:e})}))},Tn=n(14);function Cn(){var t=Object(Tn.a)(["\n  min-width: 95px;\n  font-family: BoldPixel;\n  border: 3px solid #ffff00c7;\n  border-radius: 4px;\n  background: transparent;\n  color: #ffff00c7;\n  font-size: 16px;\n  height: auto;\n  cursor: pointer;\n  padding-top: 5px;\n  transition: all 0.2s ease-in-out;\n  :hover {\n    border-color: yellow;\n    color: yellow;\n  }\n"]);return Cn=function(){return t},t}var Pn=function(){var t=ze();return Object(r.jsx)(Sn,{onClick:function(){t.resetGame(),t.game.gameStarted=!0},children:"Restart"})},Sn=Ne.a.button(Cn()),Dn=n(71),En=(n(63),n(17)),Mn=n.n(En),zn=Object(Le.a)((function(t){var e=t.className,n=ke();return Object(r.jsxs)("div",{className:Mn()("Score",e),children:[Object(r.jsx)("span",{children:"Score"}),Object(r.jsx)("span",{children:n.score})]})}));function kn(){var t=Object(Tn.a)(["\n  min-width: 95px;\n  font-family: BoldPixel;\n  border: 3px solid #ffff00c7;\n  border-radius: 4px;\n  background: transparent;\n  color: #ffff00c7;\n  font-size: 16px;\n  height: auto;\n  padding-top: 5px;\n  cursor: pointer;\n  transition: all 0.2s ease-in-out;\n  :hover {\n    border-color: yellow;\n    color: yellow;\n  }\n"]);return kn=function(){return t},t}var In=function(){var t=ze();return Object(r.jsx)(Nn,{id:"pacman-pause",onClick:function(){t.game.gamePaused=!t.game.gamePaused},children:"Pause"})},Nn=Ne.a.button(kn()),Ln={small:"8px",medium:"16px",large:"24px"},Gn=function(t){var e;return null!==(e=Ln[t])&&void 0!==e?e:t},An=(Ne.a.div.withConfig({displayName:"Spacer__HSpace",componentId:"rk6ywl-0"})(["width:",";"],(function(t){var e=t.size;return Gn(void 0===e?"8px":e)})),Ne.a.div.withConfig({displayName:"Spacer__VSpace",componentId:"rk6ywl-1"})(["height:",";"],(function(t){var e=t.size;return Gn(void 0===e?"8px":e)}))),_n=(n(64),function(t){var e=t.className,n=t.children;return Object(r.jsx)("div",{className:Mn()("Board",e),children:n})}),Bn=n(38),Rn=(n(65),"scale(".concat(vt,")")),Fn=function(t){var e=t.name,n=t.x,i=t.y,o=t.className,a=t.style,c=void 0===a?{}:a;return Object(r.jsx)("div",{className:Mn()("Sprite","Sprite-"+e,o),style:Object(Bn.a)(Object(Bn.a)({},c),{},{position:"absolute",left:"".concat(n,"px"),top:"".concat(i,"px"),transform:Rn,transformOrigin:"top left"})})},Wn=function(){return Object(r.jsx)(Fn,{className:"Sprite-maze",name:"maze-state-empty",x:0,y:0})},Hn=function(t){var e=t.rect,n=t.color;return Object(r.jsx)("div",{style:{position:"absolute",left:e.x,top:e.y,width:e.width,height:e.height,backgroundColor:n,zIndex:1e3}})},Vn=function(t){var e=t.position;return Object(r.jsx)(Fn,{x:e.x-10,y:e.y-10,name:"basic-pill"})},Un=function(t){var e=t.position;return Object(r.jsx)(Fn,{x:e.x-10,y:e.y-10,name:"energizer"})},Zn=Object(Le.a)((function(t){var e=t.tile,n=ke(),i=e.x,o=e.y,a=n.maze.pills[o][i];return a===dt?Object(r.jsx)(Vn,{position:Gt(Nt(e),Tt)}):3589===a?Object(r.jsx)(Un,{position:Gt(Nt(e),Tt)}):null})),qn=Object(i.memo)((function(){var t=ke();return Object(r.jsx)(r.Fragment,{children:Array.from({length:gt}).map((function(e,n){return Array.from({length:mt}).map((function(e,i){return 0!==t.maze.pills[n][i]&&Object(r.jsx)(Zn,{tile:{x:i,y:n}},"".concat(i,"/").concat(n))}))}))})}));qn.displayName="displayName";var Jn=Object(Le.a)((function(){var t=ze(),e=ke().pacMan,n=e.dead,i=e.alive,o=e.screenCoordinates,a=e.direction,c=t.debugState.gameViewOptions,s=Yn(e),u=function(t){var e=Math.floor(t.timeSinceDeath/200);return e>=13&&(e=12),e}(e);return Object(r.jsxs)(r.Fragment,{children:[c.hitBox&&Object(r.jsx)(Xn,{x:o.x+wt,y:o.y+wt}),i&&Object(r.jsx)(Kn,{direction:a,pacManAnimationPhase:s,x:o.x+wt-18,y:o.y+wt-18}),n&&Object(r.jsx)(Qn,{dyingPacManAnimationPhase:u,x:o.x+wt-18,y:o.y+wt-18})]})})),Yn=function(t){var e=Math.round(t.game.timestamp/200)%4;return 3===e?1:e},Kn=function(t){var e=t.direction,n=t.pacManAnimationPhase,i=t.x,o=t.y,a=t.style;return Object(r.jsx)(Fn,{className:"Sprite-pacman",name:"pacman-direction-".concat(e,"-phase-").concat(n),x:i,y:o,style:a})},Qn=function(t){var e=t.dyingPacManAnimationPhase,n=t.x,i=t.y,o=t.style;return Object(r.jsx)(Fn,{className:"Sprite-dying-pacman",name:"dying-pacman-phase-".concat(e),x:n,y:i,style:o})},Xn=function(t){var e=t.x,n=t.y,i=Fe({x:e,y:n});return Object(r.jsx)(Hn,{rect:i,color:"green"})},$n="".concat(30,",").concat(30," ").concat(70,",").concat(30," ").concat(50,",").concat(70," ").concat(30,",").concat(30),tr={DOWN:0,LEFT:90,UP:180,RIGHT:270},er=function(t){var e=t.screenCoordinates,n=t.color,i=t.direction,o=tr[i];return Object(r.jsx)(nr,{viewBox:"0 0 100 100",height:"6",width:"6",style:{left:"".concat(e.x+1,"px"),top:"".concat(e.y,"px")},children:Object(r.jsx)("g",{transform:"rotate(".concat(o," 50 50)"),children:Object(r.jsx)("polygon",{points:$n,fill:n,stroke:n,strokeWidth:1})})})},nr=Ne.a.svg.withConfig({displayName:"WayPoint__SvgStyled",componentId:"sc-9y9l4h-0"})(["position:absolute;display:block;width:","px;height:","px;pointer-events:none;"],xt,xt),rr=Object(Le.a)((function(t){var e=t.wayPoints,n=t.color;return Object(r.jsx)(r.Fragment,{children:e.map((function(t,i){var o=Nt(t),a=ir(e,i);return Object(r.jsx)(er,{screenCoordinates:o,color:n,direction:a},i)}))})})),ir=function(t,e){if(t.length<=1)return"DOWN";var n=e+1<t.length?e:e-1,r=t[n],i=t[n+1];return d(i,"".concat(n," ").concat(t.length)),ae(r,i)},or=function(t){var e=t.tile,n=t.color;return Object(r.jsx)("div",{style:{position:"absolute",left:kt(e.x)+-10,top:kt(e.y)+-10,width:40,height:40},children:Object(r.jsx)("svg",{version:"1.1",viewBox:"0 0 22 22",children:Object(r.jsx)("path",{style:{fill:n},transform:"rotate(45 11 11) translate(-550.29-608.65)",d:"m559.29 611.65v1 5h-5-1v4h1 5v5 1h4v-1-5h6v-1-2-1h-1-5v-5-1z"})})})},ar=Object(Le.a)((function(){var t=ze().debugState,e=t.ghostViewOptions,n=t.gameViewOptions;return Object(r.jsx)(cr,{ghostViewOptions:e,gameViewOptions:n})})),cr=Object(Le.a)((function(t){var e=t.ghostViewOptions,n=void 0===e?sr:e,i=t.gameViewOptions,o=void 0===i?ur:i,a=ke();return Object(r.jsx)(r.Fragment,{children:a.ghosts.map((function(t){return Object(r.jsx)(lr,{ghost:t,ghostViewOptions:n,gameViewOptions:o},t.ghostNumber)}))})})),sr={target:!1,wayPoints:!1},ur={hitBox:!1},lr=Object(Le.a)((function(t){var e,n=t.ghost,i=t.ghostViewOptions,o=t.gameViewOptions,a=n.screenCoordinates;return Object(r.jsxs)(r.Fragment,{children:[o.hitBox&&Object(r.jsx)(fr,{x:a.x+wt,y:a.y+wt,color:"green"}),Object(r.jsx)(pr,{ghost:n}),i.wayPoints&&Object(r.jsx)(rr,{wayPoints:null!==(e=n.wayPoints)&&void 0!==e?e:[],color:n.colorCode}),i.target&&Object(r.jsx)(or,{tile:n.targetTile,color:n.colorCode})]})})),pr=Object(Le.a)((function(t){var e=t.ghost,n=e.screenCoordinates,i=e.animationPhase,o=e.direction,a=e.ghostNumber;switch(e.state){case"frightened":return Object(r.jsx)(br,{frightenedGhostTime:e.frightenedGhostTime,ghostAnimationPhase:i,x:n.x+wt-20,y:n.y+wt-20});case"dead":return Object(r.jsx)(dr,{direction:o,x:n.x+wt-20,y:n.y+wt-20});default:return Object(r.jsx)(hr,{direction:o,ghostAnimationPhase:i,x:n.x+wt-20,y:n.y+wt-20,ghostNumber:a})}})),hr=function(t){var e=t.direction,n=t.ghostAnimationPhase,i=t.x,o=t.y,a=t.ghostNumber,c=t.style;return Object(r.jsx)(Fn,{className:"Sprite-ghost",name:"ghost-".concat(a,"-direction-").concat(e,"-phase-").concat(n),x:i,y:o,style:c})},dr=function(t){var e=t.direction,n=t.x,i=t.y,o=t.style;return Object(r.jsx)(Fn,{className:"Sprite-ghost",name:"dead-ghost-direction-".concat(e),x:n,y:i,style:o})},br=function(t){var e=t.x,n=t.y,i=t.ghostAnimationPhase,o=t.frightenedGhostTime,a=t.style;return Object(r.jsx)(Fn,{className:"Sprite-ghost",name:"frightened-ghost-time-".concat(o,"-phase-").concat(i),x:e,y:n,style:a})},fr=function(t){var e=t.x,n=t.y,i=t.color,o=We({x:e,y:n});return Object(r.jsx)(Hn,{rect:o,color:i})},yr=(n(66),Object(Le.a)((function(t){var e=t.className,n=t.text;return Object(r.jsx)(mr,{className:e,children:n})}))),mr=Ne.a.span.withConfig({displayName:"Message__MessageStyled",componentId:"sc-1rb6wjz-0"})(["font-family:BoldPixel;font-size:24px;color:yellow;position:absolute;left:170px;top:332px;width:220px;text-align:center;padding-top:5px;"]),gr=Object(Le.a)((function(t){t.className;var e=ke(),n=e.pacMan;return e.gameOver&&n.timeSinceDeath>=2600?Object(r.jsx)(yr,{text:"Game Over"}):null})),Or=Object(Le.a)((function(t){var e=t.className,n=ke();return Object(r.jsx)(jr,{className:Mn()("ExtraLives",e),children:Object(r.jsx)("span",{children:Object(Xt.times)(n.pacMan.extraLivesLeft,(function(t){return Object(r.jsx)(Kn,{direction:"LEFT",pacManAnimationPhase:1,x:20*t*vt,y:0},t)}))})})})),jr=Ne.a.div.withConfig({displayName:"ExtraLives__Layout",componentId:"sc-17w0xhv-0"})(["display:inline-flex;position:relative;width:calc(1 * 40px * var(--SCALE_FACTOR));height:calc(16px * var(--SCALE_FACTOR));"]),vr="undefined"!==typeof window?i.useLayoutEffect:i.useEffect;function xr(t,e,n,r){var o=Object(i.useRef)(e);vr((function(){o.current=e}),[e]),Object(i.useEffect)((function(){var e,i=null!==(e=null===n||void 0===n?void 0:n.current)&&void 0!==e?e:window;if(i&&i.addEventListener){var a=function(t){o.current(t)};return i.addEventListener(t,a,r),function(){i.removeEventListener(t,a,r)}}}),[t,n,r])}function wr(){var t=Object(Tn.a)(["\n  background: black;\n  border: none;\n  font-size: 14px;\n  padding: 4px;\n  font-family: BoldPixel;\n  width: 100%;\n  color: white;\n  opacity: 0.6;\n  transition: all 0.2s ease-in-out;\n  cursor: pointer;\n  :hover {\n    opacity: 1;\n  }\n"]);return wr=function(){return t},t}function Tr(){var t=Object(Tn.a)(["\n  font-family: BoldPixel;\n  background: black;\n  color: white;\n  font-size: 16px;\n  cursor: pointer;\n  padding-top: 5px;\n  border-radius: 4px;\n  display: flex;\n  min-width: 95px;\n  justify-content: center;\n  align-content: center;\n  opacity: ",";\n  transition: all 0.2s ease-in-out;\n  border: 3px solid white;\n  cursor: pointer;\n  :hover {\n    opacity: 1;\n  }\n"]);return Tr=function(){return t},t}function Cr(){var t=Object(Tn.a)(["\n  border: 3px solid white;\n  position: absolute;\n  top: 0;\n  background: black;\n  transform: translateY(-110%);\n  width: 100%;\n  border-radius: 4px;\n"]);return Cr=function(){return t},t}function Pr(){var t=Object(Tn.a)(["\n  position: relative;\n"]);return Pr=function(){return t},t}var Sr=[{value:"0.5",label:"Easy"},{value:"1",label:"Medium"},{value:"2",label:"Heavy"}],Dr=Object(Le.a)((function(){var t=Object(i.useState)(!1),e=Object(Ie.a)(t,2),n=e[0],o=e[1],a=Object(i.useState)(Sr[1]),c=Object(Ie.a)(a,2),s=c[0],u=c[1],l=Object(i.useRef)(null),p=ze();!function(t,e){xr(arguments.length>2&&void 0!==arguments[2]?arguments[2]:"mousedown",(function(n){var r=n.target;r&&r.isConnected&&(Array.isArray(t)?t.every((function(t){return t.current&&!t.current.contains(r)})):t.current&&!t.current.contains(r))&&e(n)}))}(l,(function(){return o(!1)}));return Object(r.jsxs)(Er,{ref:l,children:[Object(r.jsx)(zr,{id:"dropdown",isOpen:n,onClick:function(){return o((function(t){return!t}))},children:s.label}),n&&Object(r.jsx)(Mr,{children:Sr.map((function(t){return Object(r.jsx)(kr,{onClick:function(){return e=t,p.level=Number(e.value),p.resetGame(),u(e),void o(!1);var e},children:t.label},t.value)}))})]})})),Er=Ne.a.div(Pr()),Mr=Ne.a.div(Cr()),zr=Ne.a.button(Tr(),(function(t){return t.isOpen?"1":"0.6"})),kr=Ne.a.button(wr()),Ir=function(t){var e=t.color,n=void 0===e?"currentColor":e,i=t.width,o=void 0===i?40:i;return Object(r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"13.3 335.759 40 40",width:o,fill:n,children:Object(r.jsxs)("g",{children:[Object(r.jsx)("path",{d:"M27.59 338.43h2.86v2.67h-2.86zM24.73 341.09h2.86v2.67h-2.86zM21.87 343.76h2.86v2.67h-2.86z"}),Object(r.jsx)("path",{d:"M21.87 359.76v-13.34H13.3v18.68h8.58v-5.34zm-2.85-8v10.67h-2.86v-13.34h2.86v2.67zM39.01 349.09h2.86v2.67h-2.86zM50.44 349.09h2.86v2.67h-2.86zM41.87 351.76h2.86v2.67h-2.86zM47.58 351.76h2.86v2.67h-2.86z"}),Object(r.jsx)("path",{d:"M21.87 365.09h2.86v2.67h-2.86zM44.73 354.43h2.86v2.67h-2.86zM24.73 367.76h2.86v2.67h-2.86zM41.87 357.09h2.86v2.67h-2.86z"}),Object(r.jsx)("path",{d:"M47.58 357.09h2.86v2.67h-2.86zM27.59 370.43h2.86v2.67h-2.86zM39.01 359.76h2.86v2.67h-2.86zM50.44 359.76h2.86v2.67h-2.86z"}),Object(r.jsx)("path",{d:"M30.44 335.76v2.67h2.86v34.66h-2.86v2.67h5.72v-40H33.3z"})]})})},Nr=function(t){var e=t.color,n=void 0===e?"currentColor":e,i=t.width,o=void 0===i?40:i;return Object(r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:o,fill:n,viewBox:"13.3 170.213 40 40",children:Object(r.jsxs)("g",{children:[Object(r.jsx)("path",{d:"M27.59 172.883h2.86v2.67h-2.86z"}),Object(r.jsx)("path",{d:"M30.44 170.213v2.67h2.86v34.66h-2.86v2.67h5.72v-40H33.3zM50.44 172.883v34.66h2.86v-34.66zM24.73 175.543h2.86v2.67h-2.86zM21.87 178.213h2.86v2.67h-2.86zM44.73 180.883v21.33h2.85v-24h-2.85zM39.01 186.213v10.67h2.86v-13.34h-2.86z"}),Object(r.jsx)("path",{d:"M21.87 194.213v-13.34H13.3v18.68h8.58v-5.34zm-2.85-8v10.67h-2.86v-13.34h2.86v2.67z"}),Object(r.jsx)("path",{d:"M21.87 199.543h2.86v2.67h-2.86zM24.73 202.213h2.86v2.67h-2.86zM27.59 204.883h2.86v2.67h-2.86z"})]})})};function Lr(){var t=Object(Tn.a)(["\n  background: black;\n  color: white;\n  cursor: pointer;\n  border-radius: 4px;\n  display: flex;\n  min-width: 95px;\n  justify-content: center;\n  align-items: center;\n  opacity: 0.6;\n  transition: all 0.2s ease-in-out;\n  border: 3px solid white;\n  padding: 3px;\n  cursor: pointer;\n  :hover {\n    opacity: 1;\n  }\n"]);return Lr=function(){return t},t}var Gr=function(){var t=Object(i.useState)(Boolean(localStorage.getItem("pacman-muted"))),e=Object(Ie.a)(t,2),n=e[0],o=e[1],a=ze();return Object(r.jsx)(Ar,{onClick:function(){a.muteSounds(),"true"!==localStorage.getItem("pacman-muted")?(o(!0),localStorage.setItem("pacman-muted","true")):(o(!1),localStorage.removeItem("pacman-muted"))},children:n?Object(r.jsx)(Ir,{width:20}):Object(r.jsx)(Nr,{width:20})})},Ar=Ne.a.button(Lr());function _r(){var t=Object(Tn.a)(["\n  display: flex;\n  justify-content: space-between;\n"]);return _r=function(){return t},t}function Br(){var t=Object(Tn.a)(["\n  padding: 16px;\n"]);return Br=function(){return t},t}function Rr(){var t=Object(Tn.a)(["\n  position: relative;\n"]);return Rr=function(){return t},t}function Fr(){var t=Object(Tn.a)(["\n  display: flex;\n  justify-content: space-between;\n"]);return Fr=function(){return t},t}var Wr=function(){var t=Object(i.useRef)(null),e=function(t){var e=t.contentRef,n=Object(i.useState)(1),r=Object(Ie.a)(n,2),o=r[0],a=r[1],c=function(){var t,n=(t=e).current?t.current.scrollWidth:0,r=function(t){return t.current?t.current.scrollHeight:0}(e),i=window.innerWidth,o=window.innerHeight,c=i>n,s=o>r,u=1;c||s?c?s||(u=o/r):u=i/n:u=Math.min(i/n,o/r),a(u)};return Object(i.useEffect)((function(){return c(),window.addEventListener("resize",c),function(){window.removeEventListener("resize",c)}}),[e]),o}({contentRef:t});return Object(r.jsxs)(Ur,{ref:t,style:{transform:"scale(".concat(e,")"),transformOrigin:"top center"},children:[Object(r.jsxs)(Hr,{children:[Object(r.jsx)(Pn,{}),Object(r.jsx)(Dn.a,{justify:"center",children:Object(r.jsx)(zn,{})}),Object(r.jsx)(In,{})]}),Object(r.jsx)(An,{size:"medium"}),Object(r.jsxs)(Vr,{children:[Object(r.jsxs)(_n,{children:[Object(r.jsx)(Wn,{}),Object(r.jsx)(qn,{}),Object(r.jsx)(Jn,{}),Object(r.jsx)(ar,{}),Object(r.jsx)(gr,{})]}),Object(r.jsx)(An,{size:"medium"}),Object(r.jsxs)(Zr,{children:[Object(r.jsx)(Gr,{}),Object(r.jsx)(Dn.a,{justify:"center",children:Object(r.jsx)(Or,{})}),Object(r.jsx)(Dr,{})]})]})]})},Hr=Ne.a.div(Fr()),Vr=Ne.a.div(Rr()),Ur=Ne.a.div(Br()),Zr=Ne.a.div(_r()),qr=n.p+"static/media/ready.ad544456.mp3",Jr=Object(Le.a)((function(){var t=ke(),e=Object(i.useMemo)((function(){return new Audio(qr)}),[]);return Object(i.useEffect)((function(){return t.gameStarted&&e.play().then((function(){e.volume=.5})).catch((function(t){console.error("Failed to play start sound",t)})),function(){e.pause(),e.src=""}}),[t.gameStarted,e]),Object(i.useEffect)((function(){t.gamePaused&&e&&(e.pause(),e.src="")}),[t.gamePaused,e]),Object(i.useEffect)((function(){e&&(e.muted=t.isMuted)}),[t.isMuted,e]),null})),Yr=Object(Le.a)((function(){var t=Object(i.useState)(!1),e=Object(Ie.a)(t,2),n=e[0],o=e[1],a=ze();wn(),function(){var t=ze(),e=Object(i.useCallback)((function(e){var n=t.game,r=e.key,i=n.pacMan;switch(r){case"ArrowLeft":i.nextDirection="LEFT";break;case"ArrowRight":i.nextDirection="RIGHT";break;case"ArrowUp":i.nextDirection="UP";break;case"ArrowDown":i.nextDirection="DOWN";break;case" ":n.gamePaused=!n.gamePaused}}),[]);Object(i.useEffect)((function(){return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}),[])}();return Object(r.jsx)(Kr,{"data-testid":"GamePage",children:n?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(Jr,{}),Object(r.jsx)(Wr,{})]}):Object(r.jsx)(Xr,{children:Object(r.jsx)(Qr,{onClick:function(){a.resetGame(),o(!0),a.game.gameStarted=!0},children:"Start"})})})})),Kr=Ne.a.div.withConfig({displayName:"GamePage__Layout",componentId:"hkzxrc-0"})(["display:grid;grid-template-columns:1fr;justify-items:center;align-items:center;"]),Qr=Ne.a.button.withConfig({displayName:"GamePage__StartButton",componentId:"hkzxrc-1"})(["min-width:95px;font-family:BoldPixel;border:3px solid #ffff00c7;border-radius:4px;background:transparent;color:#ffff00c7;font-size:48px;padding:5px 20px 0;height:auto;cursor:pointer;transition:all 0.2s ease-in-out;:hover{border-color:yellow;color:yellow;}"]),Xr=Ne.a.div.withConfig({displayName:"GamePage__Container",componentId:"hkzxrc-2"})(["padding:16px;"]),$r=function(t){var e=t.store,n=void 0===e?new De:e;return Object(r.jsx)(Me,{value:n,children:Object(r.jsx)("div",{className:"App",children:Object(r.jsx)(Yr,{})})})};a.a.render(Object(r.jsx)($r,{}),document.getElementById("root"))}},[[67,1,2]]]);
//# sourceMappingURL=main.4c181729.chunk.js.map